import pybullet as p
import math
import pybullet_data
import time
import random
import numpy as np


def chromosomeCreator():
    pos = []
    duration = 1
    # pos.extend([duration] + [0] * NUM_OF_SERVOS)
    for j in range(LENGTH_OF_SEQUENCE - 1):
        gaitState = [0] * NUM_OF_SERVOS
        gaitState[j] = servoRangeOfMotion
        pos.extend([duration] + gaitState)
    print(len(pos))
    return [duration] + pos


def readGait(progress, chromosome):
    global firstCycleComplete
    end_index = LENGTH_OF_SEQUENCE
    if not firstCycleComplete and progress >= sum([chromosome[x] for x in range(0, len(chromosome), LENGTH_OF_GAIT_STATE)]):
        firstCycleComplete = True
    if firstCycleComplete:
        progress = progress - sum([chromosome[x] for x in range(0, ((LENGTH_OF_START_SEQUENCE - 1) * LENGTH_OF_GAIT_STATE) + 1, LENGTH_OF_GAIT_STATE)])
        chromosome = chromosome[LENGTH_OF_START_SEQUENCE * LENGTH_OF_GAIT_STATE:]
        end_index = LENGTH_OF_CYCLE
    start_index = 0
    total_duration = sum([chromosome[x] for x in range(0, len(chromosome), LENGTH_OF_GAIT_STATE)])
    # duration_of_start_sequence = sum([chromosome[x] for x in range(0, ((LENGTH_OF_START_SEQUENCE - 1) * LENGTH_OF_GAIT_STATE) + 1, LENGTH_OF_GAIT_STATE)])
    # duration_of_cycle = total_duration - duration_of_start_sequence
    progress = progress % total_duration
    current_duration_index = 0
    next_duration_index = 0
    sum_of_durations = 0
    for j in range(start_index, end_index):
        current_position_index = j * LENGTH_OF_GAIT_STATE
        sum_of_durations = sum([chromosome[x] for x in range(start_index, current_position_index + 1, LENGTH_OF_GAIT_STATE)])
        if progress < sum_of_durations:
            current_duration_index = current_position_index
            next_duration_index = (j + 1) * LENGTH_OF_GAIT_STATE
            if (j + 1) >= end_index:
                next_duration_index = start_index * LENGTH_OF_GAIT_STATE
            break
    current_gait_state = chromosome[current_duration_index + 1: current_duration_index + LENGTH_OF_GAIT_STATE]
    next_gait_state = chromosome[next_duration_index + 1: next_duration_index + LENGTH_OF_GAIT_STATE]
    if not firstCycleComplete and current_duration_index == (LENGTH_OF_SEQUENCE - 1) * LENGTH_OF_GAIT_STATE:
        next_gait_state = chromosome[(LENGTH_OF_START_SEQUENCE * LENGTH_OF_GAIT_STATE) + 1: (LENGTH_OF_START_SEQUENCE * LENGTH_OF_GAIT_STATE) + LENGTH_OF_GAIT_STATE]
    alpha = (progress - (sum_of_durations - chromosome[current_duration_index])) / chromosome[current_duration_index]
    interpolated_gait_state = [interpolate(a, b, alpha) for a, b in zip(current_gait_state, next_gait_state)]
    # print(progress, alpha, sum_of_durations, chromosome[current_duration_index])
    return interpolated_gait_state


def interpolate(a, b, alpha):
    return a * (1 - alpha) + b * alpha


def resetLegJoints():
    p.resetJointStatesMultiDof(hexapod_ID, JOINT_INDICES, [[0]] * 18, targetVelocities=[[0]] * 18)
    p.setJointMotorControlArray(hexapod_ID, JOINT_INDICES, p.POSITION_CONTROL, targetPositions=([0] * 18), forces=([150] * 18))


def resetEnvironment():
    resetLegJoints()
    p.resetBasePositionAndOrientation(hexapod_ID, [0, 0, 1.375 + random.uniform(0, 0.002)], [0, 0, 0, 1])
    p.stepSimulation()


def resetPyBulletSimulation():
    global plane_ID
    global hexapod_ID
    p.resetSimulation()
    p.setGravity(0, 0, -9.8)
    plane_ID = p.loadURDF("plane.urdf", globalScaling=4)
    hexapod_ID = p.loadURDF("robot2.urdf", [0, 0, 1.375 + random.uniform(0, 0.002)], [0, 0, 0, 1])


def gaitScore(bodyID):
    current_position = p.getBasePositionAndOrientation(bodyID)[0]
    distance = distanceFromOrigin(bodyID)
    angle = angleBetweenVectors(np.array([0, 1]), np.array([current_position[0], current_position[1]]))
    return distance, abs(angle)


def distanceFromOrigin(bodyID):
    return p.getBasePositionAndOrientation(bodyID)[0][1]


def angleBetweenVectors(a, b):
    unit_vector_1 = a / np.linalg.norm(a)
    unit_vector_2 = b / np.linalg.norm(b)
    dot_product = np.dot(unit_vector_1, unit_vector_2)
    angle = np.arccos(dot_product)
    return angle


def runGait(individual):
    p.setRealTimeSimulation(1)
    dt = 0
    lastTime = time.time()
    global firstCycleComplete
    firstCycleComplete = False
    initDuration = individual[0]
    individual = individual[1:]
    individual = ([initDuration] + [0] * NUM_OF_SERVOS) + individual
    resetEnvironment()
    while True:
        p.setJointMotorControlArray(hexapod_ID, JOINT_INDICES, p.POSITION_CONTROL, targetPositions=readGait(dt, individual), forces=([300] * 18))
        now = time.time()
        dt += now - lastTime
        lastTime = now


def evaluateGait(individual):
    lastTime = time.time()
    global firstCycleComplete
    while True:
        dt = 0
        firstCycleComplete = False
        initDuration = individual[0]
        individual = individual[1:]
        individual = ([initDuration] + [0] * NUM_OF_SERVOS) + individual
        resetEnvironment()
        for ii in range(3000):
            p.setJointMotorControlArray(hexapod_ID, JOINT_INDICES, p.POSITION_CONTROL, targetPositions=readGait(dt, individual), forces=([300] * 18))
            p.stepSimulation()
            dt += 1. / 240.
            # time.sleep(1./240.)
        gaitEvaluation = gaitScore(hexapod_ID)
        print(f'PyBullet Instance ID: {UNIQUE_THREAD_ID} | Time Elapsed: {time.time() - lastTime} seconds | Evaluation: {gaitEvaluation} | Chromosome: {individual}')
        if not math.isnan(gaitEvaluation[0]):
            break
        else:
            print("PyBullet Glitch")
            resetPyBulletSimulation()
    return gaitEvaluation


# start of main program
MAX_MOTIONS_IN_SEQUENCE = 4
NUM_OF_LEGS = 6
NUM_OF_JOINTS_PER_LEG = 3
NUM_OF_SERVOS = NUM_OF_LEGS * NUM_OF_JOINTS_PER_LEG
UNIQUE_THREAD_ID = random.randint(1, 10000)
LENGTH_OF_CYCLE = 12
LENGTH_OF_START_SEQUENCE = 2 + 1
LENGTH_OF_SEQUENCE = LENGTH_OF_START_SEQUENCE + LENGTH_OF_CYCLE
LENGTH_OF_GAIT_STATE = NUM_OF_SERVOS + 1
firstCycleComplete = False

# PyBullet Init
physicsClient = None
if __name__ == "__main__":
    physicsClient = p.connect(p.GUI)
else:
    physicsClient = p.connect(p.DIRECT)
p.setAdditionalSearchPath(pybullet_data.getDataPath())
plane_ID = None
hexapod_ID = None
resetPyBulletSimulation()
programStartTime = time.time()
servoRangeOfMotion = (math.pi * 3 / 8)
JOINT_INDICES = [x for x in range(0, 24) if (x + 1) % 4 != 0]
p.setRealTimeSimulation(0)

print(f'PyBullet Instance ID: {UNIQUE_THREAD_ID}')


def main():
    print("START")
    resetEnvironment()
    # runGait(chromosomeCreator())
    # runGait([1.5455131278640795, 1.131384574290983, 0.5907816525994491, 1.0757994029514821, -0.3814287536049722, -0.09026771873289066, -0.2085620196700363, -0.21801822197284, -0.5390552901250761, 0.7125053572735092, 0.9510955023117393, 1.175537497243891, -0.9683741744255008, 1.0858904814926156, 0.08259936501288836, 0.36405063716296504, -0.7321139477138306, -0.7192592327565922, 0.17435453958579405, 0.5321569386540818, 1.3108444214728792, 0.7135674838146334, -0.8315844639933375, 0.08676640545135364, 0.2680559092790468, 0.7981862337495182, 0.4112432441989449, -0.3371632913565079, -0.9847747772512248, -1.1179934724168643, 0.9757969019880446, -0.19122989074823793, 0.5146479251144224, -0.7873077109511217, 0.8156282299839965, 0.3272577851273213, 0.5921859690416904, 0.06598574372590527, 0.3620040880907848, 1.4253512814972014, 0.6689663589333705, 0.4970178844044125, 0.7410316507886874, -0.404922932149295, -1.1419924113576605, 0.18065666358177804, 0.5691892844757488, 1.0190167583870053, 0.7557366172662173, -1.1333031273966685, 0.0467842269621046, 0.71527542052605, 1.156466421196855, 0.4344765370916673, -0.3905113423600623, 0.08334097336627716, 0.13388812234136455, -0.3576100668896528, 0.47706848169583593, -0.4421525059166644, 0.6766718078980388, -0.32415243419946727, -0.010067701655020755, 0.4710718194064342, -0.704661799271566, 0.7393682550641925, -0.19502931216939923, -0.8089429536604726, 0.38067195761275435, -0.4618991995530715, -0.5437155463810779, 0.8312024457641187, -0.1703789151195899, -1.1049275245859196, -1.0986003230641672, -0.7172914222130158, -0.5933599480751076, 0.5830461303386304, 0.05560696453198995, 0.0721317689203606, -0.5500546134228607, -0.5713437369480816, 0.8150248289939194, 0.20594050321321733, -0.570768414909688, -0.23318590352600876, -0.6317280081278649, -0.9721873600423324, 0.3575223925224029, 0.7097298929770095, 1.1370629147439482, -0.22929700298925249, 0.2057355964148508, 0.3079433132715259, 0.3645292174857392, 1.0437566003031558, 1.0680441630084863, 0.9835541204605367, 0.13965418440979604, 0.6463305552982728, -1.0234554829730178, 0.731742723995333, -0.3065319912788297, -0.9340438396051252, 0.8892819718886554, -0.9863542894123155, -1.0259113190034643, 0.5065550312088378, 1.1353501580358651, 0.2954947530531345, -0.37407075511535515, 0.046085753040733486, -0.7542004295297039, 0.15186839684436462, 1.0702162561887933, 0.4484258399285612, -0.1330115427799655, -0.8678485412064788, 0.7131605451192102, -0.025425214793526024, 0.5325340720750111, -0.15530146878153228, -1.0312870275326613, -0.7649985978054833, 0.5572928001425732, 0.004769902470400822, 0.047521877855578376, -1.0605161774394998, -0.671121612352263, 0.8740331199947328, -0.1178486099501568, -0.12887157305870633, 0.1922413612769549, 0.1679545205197149, 0.3929735084384982, -0.15515012416827811, -0.11264174329377305, -0.7093019523136769, 1.1100068333302868, 0.18144158500497667, -0.6252852000687125, 0.2757555328619226, -0.8680939834824364, -1.0652506336720462, 1.0206201124152952, 1.0982336482992952, 0.4054992665221837, 1.176689675668588, -0.3006767318516823, -0.6609718061597271, 1.020171304738976, -0.7926363755539105, -1.054204455347925, 0.1712404025694365, -0.36336434535119894, 0.4312036061602206, -0.7969763462914204, -0.8839240794672555, 0.3015775699420338, -0.7610753748919145, -0.7349297281745646, -0.06167972949471745, -0.38761958559012966, -0.4580638071905028, -0.7051411948837603, 1.0248447651190047, 0.36660964345846664, 0.21654648139293164, -0.24026420237337903, -1.1708156365344875, -1.005301968954544, -0.1440356520287381, 0.6148065389747657, -0.3691586442060919, 0.6836475180949804, 0.4582531676213889, 0.9584194326699845, -0.08435480044162808, -0.8948701818257898, -0.3776602712371965, 0.4829160842166938, -1.1729516583644275, 0.32540678432157744, 1.1589891874848735, 0.5839662321761677, -0.8376529918245819, 0.8507366697190155, -0.7382430149038672, -0.4971281604788756, -0.15014419320718428, 0.8980143037909418, 1.8429650993748496, 0.10554071854087892, 0.4972455872629274, -0.5544301192429479, -0.15606638924951471, 0.13936661883900023, 1.1227670189899017, 0.8945717691895871, 0.4756050993850363, 0.26079850401337185, 0.5523534812335831, 0.6184506425481883, -0.324444909603659, 0.7046515378733903, -0.31863688399415047, 0.2856348888410154, -1.107985192340223, -0.9593621985997319, 0.4970509450585383, 0.3062151581520203, 0.13171380785583364, -0.21195781763522642, 1.0012462446969401, 1.0629446634782411, 0.4485359513380739, 0.7345616964746956, -1.0533683937117806, -0.28214689277355437, 0.8484871109469421, -0.6653049679395414, -1.0724560770179337, 0.16951215779512468, -1.1076425273059605, -0.04000080760714564, -0.4316633813877066, 0.1725810004616064, 0.2871282919559718, -1.0056433285568145, 0.1577002673962102, -0.9130318898888163, 0.6695971830022907, 0.2863417055081458, 0.06859462669562771, -0.04736317889351628, 0.9084195264717503, -0.05088169532770026, 0.17361865759117429, 0.9254748478886938, 0.920492993037866, -0.979287250631411, 0.00857582056713424, -0.22587664987975875, 0.04083404756509651, -0.7622594283946285, -0.9264128567437621, -0.8040703000407753, -0.8792199823211648, 0.5497767345740217, 0.9483868640318305, -0.25252495120768714, -1.000263966099428, 0.6632210834207473, -0.031675927545158876, -0.9997209982101553, -0.2738742867038354, 0.7553574300319937, 0.7391561443307991, 1.0609745575716356, 1.0280190551556767, -0.7307668514027008, -0.8337647585979309, 0.09596574608304798, 0.2718993074701726, 0.7962474167999, 1.0806658529233877, 0.08649576783814306])
    # runGait([1.5392481223669074, 1.1846109173578536, -1.0051811997427356, 0.9743076093922426, 0.26405586847188467, -0.9323510261323847, 0.47611140868135127, 0.207685454684019, 0.3044605744370279, 0.23522779642523828, -0.19633889459661225, 1.177820692097744, 1.0888724488806705, 0.37086883635513335, -0.14843635939204375, -0.4569777863221428, -0.4405910543897014, 0.26280139316489276, -1.118621687785762, -0.6131791057267706, 1.6634562476594645, -0.6196766944626633, 0.31660287988305813, -0.6174946264128998, 0.9643626858579235, -1.0497280028484663, 0.6273874730278604, 0.7602495657485544, 0.7371244181866765, -1.042034157651646, -0.868761674383894, -0.754137252683652, 1.095970551519732, -0.8962520943698287, -1.0410937604122033, -0.9581064457575879, -0.14139929966207498, 0.6609044665726467, -0.29643417309497455, 0.158243818468499, -0.14725463301946956, 0.09814536156344905, 0.010902827404961457, -0.1381198676486775, -0.5763690623062532, -0.6574002752586625, 0.5723401877461105, 0.3131064895197884, 0.6065505355702007, -0.5663165528097527, 0.9178736768735162, -1.1606665502121498, 0.20540975314497067, -0.3214829018804931, 0.49002414112106474, -0.9684985231044688, -0.16180364778643305, 0.9995526015529128, 1.2888883930618353, -0.6943867571072294, -0.02918910907419181, -0.01274678549240399, 0.24768617496284057, -0.09354139535447809, 0.20142657272044226, -0.21903459469029743, -0.8264728433320327, -0.873040103117887, -0.30170505412246246, -0.33444875466329393, 0.6285352003733491, -0.01367736921411844, -0.8869619360560372, -0.9189869211407296, 0.18181492855322695, 0.856984838922693, 0.24961595695916158, 0.5958004346236606, -0.1058923367754968, 0.4688525440959431, -0.612543098537782, 0.3389515184525484, 0.605155150040284, -0.8007808352204132, 0.9166112717923453, -0.9392451530971802, 0.697919305356085, -1.0839620187405832, -0.5430801934187329, -0.5617933526167376, 0.7593423098476356, 0.7937219086200507, 0.6423452904119276, -0.3646162461965673, -0.38858456635096184, 0.9560702248855901, 0.07237413498136336, 0.6982987481361436, -0.1760414307567684, -0.8903037809844627, 0.2434810261331829, -0.058702237943197066, -0.36036393922584214, -0.8497244742059156, 0.9244377182003307, -0.6799729526354247, 0.5485539807761538, 0.6086650095250802, -0.3366223879578526, 0.002711312807074151, -0.14219076299340777, -0.6444620837365957, -0.6026406373271797, -0.5285177841049686, 0.34545130800263446, 1.2989341301389725, -0.6971569702093494, -0.16851848885486687, 1.0589686157996563, -0.015604289869636856, 0.026630230401219368, 0.016943047245062903, 0.8957050421236219, -0.1447932441424873, -1.0300261774570343, 0.4702954210762254, 0.7786399937016997, -0.24348925687035072, -0.837518953425601, -0.9280342483944716, -1.1643990361690957, -0.8903172470879148, 0.4684055567212021, -0.37804082795025135, 1.002338581240816, -0.7619069406230091, -0.022143486747959212, 0.42296343052659846, 0.4547905698697875, 0.5790609009171184, -0.8299785266654429, 0.38901830499982554, -0.8893132397424617, -1.08511084486217, 0.5125842316102003, 1.0547022301493147, -0.2791833080584494, 0.19920558830942292, -0.09503222987614418, -0.512643061185549, 0.7274107352513772, 0.4784056081909599, 0.6049638149177234, 1.0513542926422352, -0.5668077065639591, 1.159989827303419, 0.8881766831999328, 0.6348014603549188, -1.008952220450483, -1.0212795939548687, -0.2643220358520248, 0.2929661293261965, -0.956982909471409, 0.07874465657051063, -1.0461151222618634, -0.08163769974010149, -0.4689217380786912, 1.1318301210259984, -0.05577363748693977, -1.113669691528272, -0.02938884115013827, 0.9518733036672398, 1.3573203907358466, 0.2528089057654105, -0.23102514019943587, 0.7798261937344153, -1.1015539289899166, -0.947408165872738, -1.0148600531615566, -0.9827821405404622, 0.7017784146068937, 0.8152700871670714, 0.050621180719822426, 0.5770500294719565, 0.6794541517654831, -0.7791034974853277, 0.577710425699353, 0.4736102352697654, -0.266954810281858, 0.011305347035855784, 0.5788088143508667, 0.0885776367508535, 0.53666972985619, -0.7045116240377374, 0.16886890430700685, 1.0762956809885624, -0.8847773511869167, -1.1427343475025533, -0.2993266051467838, 0.8113086753423293, -1.0482445684323631, 0.41952660769083183, -0.33324671613664714, 0.07567908260195, -0.970808620680393, -0.11857086108753806, 1.059726066266745, -0.7563829779235549, -0.8759198924146077, -0.1794102312427729, 0.9756896160206376, 0.14410280653625546, -1.1444719711964118, 1.1129080780455372, 0.08054668784426972, -0.8382952669682144, 0.8231048247244699, 1.1697336965652185, -0.7696178757827128, 0.5829022097936883, -0.9590438918547257, 0.8172485553387232, -0.5208052407687382, -0.25078888188672743, -1.0981214905308836, 0.9079873971832451, 0.32429821922133606, -1.1722610362478487, -0.5940666128327889, 1.1693789487465345, 0.10874400907256992, -0.4227571236815506, -1.154420404530951, 0.04915722711971421, 0.2171024458186327, 0.34863070074910135, 0.5000620333752956, -1.087270935390497, -0.3645355017627639, 0.10779597422582093, 0.32676583775407286, 0.7704823757354639, 0.37240286943071416, 0.497971180026772, -0.5297026443907815, 0.3184866009661261, -0.4944896318345864, 0.402684035993827, 0.7393143233888271, 1.1567660377346374, 0.23396916630727807, 0.9380423538531418, -0.16360532839248143, -0.8462767318199311, 1.076545258822792, 0.7799113646780261, 0.8153145615465466, 0.17157813846485695, -0.7343470410249344, -0.23968654156966895, 0.2940547660684618, 0.1759625158170825, -0.6153729753988275, 0.7049540473956813, -0.9820070759574941, 1.1545059500045642, 0.9774176257456899])
    runGait([0.18403936561894646, 0.1549125676230881, -1.0737228551789968, 1.1074034854568302, -0.5075648311566827, 0.9410632472797863, -0.034075539924461766, 0.04087326062084187, 0.016970270367710892, 1.0693994730213368, 1.155687813177694, 0.8737522824643122, -0.8647752630675463, 0.34299370658943856, -1.0211653604035968, 0.9327693440640767, -1.1011770525732225, 0.9557766462321559, 0.12072049734526494, 0.6379668000414453, 0.38230918565376665, 0.38766472211677316, -0.23345728123331336, 0.42693206671590045, 0.7481283759819202, -1.0035764425332458, -0.37743247317618395, 0.09703593626443223, 0.4096524242490998, 0.5659367640154525, -0.48634980239282366, 0.9997166523571077, 0.9918650566996552, 0.3533658070404414, 1.0175827219942823, 0.18743930901921652, -0.4458899131062403, 0.4201947524885313, 0.9657458794711107, 0.44323639067960297, 0.8503041963843176, -1.1368206866652761, -0.5949936064673491, 0.8431072036023203, -0.8259446127674113, -1.0362372103175401, 0.15060262481341474, -0.9859007911949546, -0.21962601316827257, 0.09533520637849181, -0.640348357362408, -0.8041160416557014, -0.7812025840957206, 0.11151372791644286, 0.8274774721561737, -0.587046978534175, -0.32808303668861744, 0.2379704057869646, 0.18775280488712448, -0.4377264809328173, 0.5907623805366229, 0.05202338940205825, -0.2451747086887523, 0.8470984599764407, -0.7682503206243262, 0.3612923441372827, 0.6886023359929412, -0.9693524777736018, 0.304702690167437, -1.1660144413974514, -0.8249616411604217, 0.8945052164694315, 0.17544939809574825, -0.8272460898178078, 1.1407934664917578, -0.2000536217205298, 0.18640987180335764, 0.2679299333926803, 1.145665972340061, 0.9764033023740143, -1.0945467100291453, 0.521372365408202, -0.08805314721161141, -0.38934451999230035, 1.1416905493697052, 0.9003889322068577, -0.8129184705562436, 0.3440473274506305, -0.72472648064133, 0.05399471861877388, 0.5194134990647563, 0.6874785346278812, -0.8122596509146587, -0.650730661490093, -0.7272921738378133, 0.4576376839803699, 0.3904171653145497, -0.9810005319300584, -0.00285443936171912, -0.36535172159131735, 0.6144096327192144, -0.15837248303352225, -0.8994195620240998, -0.550954584675316, 0.6429230964102726, 0.8005796647490672, 0.06531222692534534, 0.34974094724817234, 1.176172791792436, -0.5252710369532949, 0.2649227929594751, 1.175606830532634, 0.9455873746485913, 1.0932290476666615, -0.5309007757921452, 0.2682629673178282, -1.019068207596018, 0.7873164405123094, 0.47109953022389206, 0.9043790189976995, -0.4554792669173991, -0.7129058230136001, 0.06376465587541758, 0.8334084349886761, 0.4891839072422823, -0.8195171322070331, 0.355909241507946, -0.45439362049140547, 0.7612376551762988, -0.05436372347589597, -0.8253395241105608, 0.5353956017148908, -1.1278223769955171, -0.2672704939182695, 0.08236845953569603, -0.3944515835531134, 1.0532839324087664, 0.2152014313163344, -0.32115401363252016, -0.4401831731301486, -0.8316311944948868, -0.8204912647642763, -0.20684288623086328, 0.656586992390969, 1.040632220799805, -0.5681960529259297, -0.8935973924071543, -0.5523442578187371, 1.019030749112957, -0.9889777010534911, -0.7813891126298407, -0.31025456229208886, 0.21737299067653276, 0.11975606760923985, 1.1489133897234511, -0.732747722798833, 0.46248225304712504, 0.8367764473513415, -1.1345064996816838, 0.8487271456519844, 0.47079084546084493, -0.3880313224602788, 0.5726640163660738, 0.3169122624606709, 0.3125375497368141, 1.0725665493127594, 0.04471119068333991, 1.1194888957575166, -0.694350406505744, -0.3409595779421505, 0.6171251620061712, 0.22135934758297232, 0.21247623650675107, 0.8669374876359844, -0.31535073366399385, 0.5538889770906046, 0.3757263311055013, -0.597927592864876, -0.6925085946018497, 0.34871269014582607, -0.7181727784647577, -0.9959175484190584, -0.3941241000777373, 0.5843467229636823, -0.1298465717484976, 1.1265371185410973, 0.10481709067861797, -0.6208804733701672, -0.23209634549660108, 0.09164363735575871, -0.5218291197106613, 0.13407195016157047, -1.0811880597442607, 0.6537001639909427, -0.9112100951312594, 1.1331704450421252, 0.09526547721035253, 1.0691734422557067, 0.28286325422558284, 0.2155840511857598, 0.34219576355889947, -0.06858382641835256, 0.6352320740995255, -0.8534759393001677, -0.30215311605080114, 0.4825461632485498, -0.7878025062942408, 1.1767649332440155, -0.36658719987216254, 0.614083134565041, 0.017395772324190255, -0.8141910253664506, -0.9789440851674488, -0.760947748240976, 0.10514245629454896, -0.012445121344935495, 0.8955364949519948, -0.9407396155918096, -0.5059512257000718, 1.0169038534816517, -0.5661662987702231, 1.0472948411801215, 0.9527469422382762, -1.0438693320196037, -1.0197514641091732, 0.5923565043667608, -1.1513518068819006, 1.1426265213356581, 0.7314115693481198, 0.035878365067006056, 1.1268253186061643, 1.1381898892090025, 0.050668047659784055, -0.3374091279069584, 0.7307081467526516, 0.026235117587053144, 0.5330659472771377, -0.03700545752962979, -0.23289865423067055, -0.03238468060810259, -0.8203158342693152, 0.5683798195792417, -1.1246799094062077, -0.758692396093738, 0.21847165129039725, 0.5696240201910205, -0.3529263485054064, 1.0260220368312303, 0.01224911889098179, -0.1809953840590205, 0.16439486454032642, -1.0079506314517355, -0.7339119466544526, -0.796638067199314, -1.0901440827406046, 0.6979503548178353, 0.7015791939518996, -0.07233693177751095, 0.5560875159234098, 1.1110141779625964, -0.15396573755282433, -1.1582494805739991, -0.12961450456604595, -0.651868837749322, -0.31774126871869124, -0.26337831137926265, 1.1722112677888488])
    p.disconnect(physicsClient)


if __name__ == "__main__":
    main()
